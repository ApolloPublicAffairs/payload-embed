<html>
<title>Is it in Kanata?</title>
<head>
<script src="2015REPORDSIMPLIFIED.geojson" type="text/javascript"></script>
<script src="payload.min.js" type="text/javascript"></script>
</head>
<body>
    <div>
        <h1>Instructions</h1>
        <p>Geojson is stupid and accepts longitude before latitude. If you're pulling from Google Maps or off a map, reverse your coordinate entries because REASONS.</p>
        <label for="lat">Longitude</label>
        <input type="text" value="" name="Longitude" class="required" id="inputlong" required>
        <label for="lat">Latitude</label>
        <input type="text" value="" name="Latitude" class="required" id="inputlat" required>
        <input type="submit" value="test" name="testfunction" id="submission" class="button" onclick="RunProgram()">
    </div>
    <div>
        <h2>Results
        </h2>
        <p id="resultreport">None</p>
    </div>
    
</body>


<script>




    function RunProgram() {
        // fetch the geojson file

        fetch('2015REPORDSIMPLIFIED.geojson')
        .then(constitdata => response.json())
        .then(constitdata => console.log(constitdata[0]))
        .catch(err => console.log(err));
       

        // SHOWS RESULTS WITHOUT LOOKING AT CONSOLE
        var success = "It is in Kanata."
        var fail = "It is not in Kanata."
        // NOTE: GEOJSON IS LONGITUDE, LATITUDE BECAUSE ITS STUPID 
        var long = new String (document.getElementById("inputlong").value);
        var lat = new String (document.getElementById("inputlat").value);
        var pt = turf.point([lat,long]);
        console.log(lat)
        console.log(long)
        console.log(pt)
        
        var poly = turf.polygon([[
           [-75.885953766444,45.32060240095962],[-75.89151127970403,45.32998372789227],[-75.89344619088246,45.33278732548828],[-75.8994298101314,45.34260383324565],[-75.90425028724366,45.35123763440614],[-75.90496921266478,45.35205134723135],[-75.92695113033155,45.3692793302302],[-75.93130941641039,45.37260362597473],[-75.94577820492067,45.38399514305489],[-75.92073149777174,45.40006943350163],[-75.91782577353412,45.40225224858531],[-75.90555296152304,45.41023143558294],[-75.91597702936349,45.4173888387701],[-75.92873815203751,45.42885809490707],[-75.94319343187355,45.44696096693722],[-75.95474657727083,45.46026979949559],[-75.96631940513541,45.46780843077752],[-75.96905044088034,45.46990918993359],[-75.98716704581551,45.47965436116098],[-75.99107518181869,45.48077380182662],[-76.02324065658775,45.48909510352689],[-76.0481977180718,45.50006281145834],[-76.07294468776705,45.5076948854818],[-76.08987966302143,45.513861499329],[-76.10560845521647,45.51621560856982],[-76.14040185425559,45.518190155437],[-76.15396277157917,45.51729721136152],[-76.16620540069836,45.51735805125762],[-76.19239976149612,45.51919314954041],[-76.2010089024293,45.51888818516676],[-76.21034829359411,45.51673418001008],[-76.22781848206641,45.51184539781813],[-76.23348520563576,45.50783777632788],[-76.23852014642935,45.47526294296934],[-76.24020809369597,45.47121135277332],[-76.24508645577882,45.46861798077348],[-76.26176705545,45.46812286668987],[-76.27719683647607,45.46655841799646],[-76.29125829376235,45.46589854974539],[-76.2962193550509,45.46454059949198],[-76.29634743129952,45.46399624034974],[-76.29739681235742,45.44730688751037],[-76.30317439389228,45.4435467500947],[-76.31120059586189,45.43881383880567],[-76.31384885475532,45.4383794142172],[-76.31442588178787,45.43613730909343],[-76.32296427527201,45.43045993747838],[-76.32799535845606,45.42739902509155],[-76.33935725301356,45.42012043836419],[-76.3404186368325,45.41910876832105],[-76.34834743049808,45.41435757994933],[-76.3539736614581,45.41056665837936],[-76.34349412941197,45.40011303693684],[-76.31326372282221,45.37699021627095],[-76.28931593697615,45.35848312146469],[-76.28187082795064,45.35282691451468],[-76.27982952633711,45.35107109933595],[-76.25587732250983,45.33303011314452],[-76.24638171218102,45.32567430493045],[-76.22973626050873,45.31333592146787],[-76.2144520916254,45.30079121472983],[-76.21073698237925,45.30297350483964],[-76.19175934366427,45.28787349936128],[-76.17739279858787,45.2755726109294],[-76.16756333112932,45.26754747145481],[-76.15996948286862,45.26075200434659],[-76.15261077966599,45.25461770185403],[-76.14770698354724,45.25028330566876],[-76.14095178220447,45.24470989768713],[-76.13294155600225,45.23840320380185],[-76.11097576224992,45.2207645911838],[-76.10616615050243,45.21657260644233],[-76.10087375108913,45.21233371315645],[-76.09163074872872,45.20522780476663],[-76.07518283438381,45.19168728508034],[-76.06540462508559,45.18387539466645],[-76.05049543504856,45.17146930630096],[-76.04828542088087,45.17427158806543],[-76.04703570368646,45.1776496840025],[-76.04501733068408,45.19514620084422],[-76.0433954516641,45.19961209600198],[-76.04154582884136,45.20192730466577],[-76.0386355254681,45.20424931234228],[-76.02169301543653,45.21493559324962],[-76.01468161800074,45.21927700457996],[-75.9992916343819,45.22775520673267],[-75.99495051659044,45.23038351070907],[-75.99096813510587,45.23234100009861],[-75.9738250211129,45.24364340544349],[-75.97173822755282,45.24577701298432],[-75.97042229936241,45.24808030349679],[-75.96997612093038,45.2524455237004],[-75.97391301052107,45.26975700855793],[-75.97373200377184,45.27184692554652],[-75.97160000015457,45.27236142387396],[-75.96823401560654,45.27383031918927],[-75.93103483149498,45.29738010748648],[-75.92036711370018,45.28891392953762],[-75.90999421254085,45.29530797758726],[-75.90690523746078,45.29425273181568],[-75.89992279241999,45.2906263768702],[-75.89569246848647,45.28922838809302],[-75.8934159372262,45.28880514259931],[-75.89095247728937,45.28743713938696],[-75.88951283798349,45.2883002668525],[-75.8770114975842,45.27781523459145],[-75.87527439210645,45.27690142450222],[-75.8720639832884,45.2761653190216],[-75.86979738449779,45.27496602671133],[-75.86341789533667,45.27008082175263],[-75.86051159370403,45.26940112520705],[-75.85785498655964,45.26970512714632],[-75.85236578786538,45.27058322946521],[-75.83527849030206,45.27739972276132],[-75.83772617254866,45.28160982602502],[-75.83801338107948,45.28431971737228],[-75.8325371759578,45.30138372735986],[-75.8599206630803,45.31098923230235],[-75.8766262976013,45.30402173532102],[-75.88404100158195,45.31739472383867],[-75.885953766444,45.32060240095962]
    ]]);
        
    
        console.log(turf.booleanPointInPolygon(pt, poly))
        test = turf.booleanPointInPolygon(pt, poly)
        if (test = true) {
            document.getElementById("resultreport").innerHTML = success 
        }
        if (test = false) {
            document.getElementById("resultreport").innerHTML = fail 
        }   
        
        }
    
        
    
</script>

</html>